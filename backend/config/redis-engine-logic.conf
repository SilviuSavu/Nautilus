# Redis Configuration for Engine Logic Bus
# Metal GPU + Performance Core Highway Optimized
# Target: Ultra-low latency critical decisions and engine coordination

# Basic configuration
bind 0.0.0.0
port 6379
timeout 0
tcp-keepalive 60
tcp-nodelay yes

# Memory optimization for low-latency messaging
maxmemory 8gb
maxmemory-policy volatile-lru
maxmemory-samples 5

# No persistence for ultra-low latency
save ""
rdbcompression no
rdbchecksum no
stop-writes-on-bgsave-error no

# AOF disabled for maximum speed
appendonly no

# Client configuration for ultra-high throughput
maxclients 50000
client-query-buffer-limit 16mb
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 0 0 0
client-output-buffer-limit pubsub 64mb 16mb 60

# Performance tuning for low-latency messaging
hz 100
dynamic-hz yes
hash-max-ziplist-entries 64
hash-max-ziplist-value 32
list-max-ziplist-size -1
list-compress-depth 0
set-max-intset-entries 64
zset-max-ziplist-entries 64
zset-max-ziplist-value 32

# Stream optimization for engine communication
stream-node-max-bytes 4096
stream-node-max-entries 100

# Metal GPU + Performance Core optimization hints
# These are interpreted by the dual MessageBus client
# engine-logic-optimization metal-gpu
# performance-cores 12
# cache-strategy minimal-lru
# hardware-acceleration metal-gpu